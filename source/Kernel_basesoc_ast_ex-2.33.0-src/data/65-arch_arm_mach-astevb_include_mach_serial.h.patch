--- linux/arch/arm/mach-astevb/include/mach/serial.h	2016-06-04 13:35:02.720351267 +0800
+++ linux/arch/arm/mach-astevb/include/mach/serial_new.h	2016-06-04 13:34:38.740351507 +0800
@@ -30,12 +30,21 @@
 #define STD_COM_FLAGS (UPF_BOOT_AUTOCONF | UPF_SKIP_TEST)
 
 #if !defined(CONFIG_SOC_AST2530)
+#if !defined(CONFIG_SPX_FEATURE_ENABLE_LPCUART_STD_COM)
+#define SERIAL_PORT_DFNS    \
+ {0, BASE_BAUD, AST_UART1_BASE, IRQ_UARTINT0, UPF_SKIP_TEST, 0, UPIO_MEM32, (void *) AST_UART1_VA_BASE, 2},   \
+ {0, BASE_BAUD, AST_UART2_BASE, IRQ_UARTINT1, UPF_SKIP_TEST, 0, UPIO_MEM32, (void *) AST_UART2_VA_BASE, 2},   \
+ {0, BASE_BAUD, AST_UART3_BASE, IRQ_UARTINT2, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART3_VA_BASE, 2},   \
+ {0, BASE_BAUD, AST_UART4_BASE, IRQ_UARTINT3, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART4_VA_BASE, 2},   \
+ {0, BASE_BAUD, AST_UART5_BASE, IRQ_UARTINT4, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART5_VA_BASE, 2},
+#else
 #define SERIAL_PORT_DFNS    \
  {0, BASE_BAUD, AST_UART1_BASE, IRQ_UARTINT0, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART1_VA_BASE, 2},   \
  {0, BASE_BAUD, AST_UART2_BASE, IRQ_UARTINT1, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART2_VA_BASE, 2},   \
  {0, BASE_BAUD, AST_UART3_BASE, IRQ_UARTINT2, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART3_VA_BASE, 2},   \
  {0, BASE_BAUD, AST_UART4_BASE, IRQ_UARTINT3, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART4_VA_BASE, 2},   \
  {0, BASE_BAUD, AST_UART5_BASE, IRQ_UARTINT4, STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART5_VA_BASE, 2},
+#endif
 #else
 #define SERIAL_PORT_DFNS    \
  {0, BASE_BAUD, AST_UART1_BASE,  IRQ_UARTINT0,  STD_COM_FLAGS, 0, UPIO_MEM32, (void *) AST_UART1_VA_BASE, 2},   \
