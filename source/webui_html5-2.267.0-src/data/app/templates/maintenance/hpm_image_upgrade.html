<!--
    - - - - - - - - TODO: - - - - - - - -  

    Add more robust error handling and improve
    information shown by UI


-->

<section class="content-header">
    <h1>
        <%= locale.title %>
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-home"></i><%= locale.home %></a>
        </li>
        <li>
            <a href="#maintenance">
                <%= locale.maintenance %>
            </a>
        </li>
        <li class="active">
            <%= locale.title %>
        </li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="col-md-5">
        <div class="box box-primary animated fadeInUp">
            <div class="box-header">
              <div class="pull-right help"><a class="col-sm-1 help-link" href="#"><i class="fa fa-question-circle"></i></a>
              <h3 class="box-title"></h3>
              </div>
            </div>
            <div class="box-body">
                <div class="alert alert-success alert-dismissable hide">
                    <i class="fa fa-check"></i>
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    <b><%= locale.strongSuccessMsg %></b>
                    <%= locale.successMsg %>
                </div>
                <div class="alert alert-danger alert-dismissable hide">
                    <i class="fa fa-ban"></i>
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    <b><%= locale.strongFailureMsg %></b>
                    <%= locale.failureMsg %>
                </div>
                <div style="padding-bottom:8px"><%= locale.note_for_table %></div>
                <div class="box">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12 table-list">        
                                <table class="footable table">
                                    <thead>
                                        <tr>
                                            <th data-hide='phone'> S.No </th><th > Preserve Configuration Item  </th><th data-hide='phone'>  Preserve Status   </th>
                                        </tr>
                                    </thead>
                                    <tbody class="table-body">
                                    
                                    </tbody>
                                </table>
                            </div>
                        </div>
                      </div>
                </div>
                <div class="focus-center">
                    <form action="javascript://" method="POST" role="form">
                        <div class="form-group">
                            <div role="alert" class="alert alert-info help-item hide"><%= locale.choose_firmware %>
                            </div>
                            <label for="firmware_image">
                                <%= locale.fwimage %>
                            </label>
                            <input type="file" class="form-control" id="filefirmware_image" style="height:auto" value="" placeholder="<%= locale.size32mb %>">
                        </div>
                         <div role="alert" class="alert alert-info help-item hide"><%= locale.start_upgrade %>
                            </div>
                        <div>
                            <a class="btn btn-success btn-lg btn-block" id="start"><%= locale.start_fw_update %></a>
                        </div>

                        <div class="divfirm hide" id="wizardSectionFlash">
                        <br/>
                        <input type="checkbox" id="chkVersionFlash" class="disabled"><%= locale.version %>
                        <input type="checkbox" id="chkFullFlash" checked><%= locale.fullversion %>              
                        </div>

                        <!-- TODO: Localize Strings -->
                        <div id="section" class="section" valign="top"></div>

                        <div id="verifyHPMFlashImage" class="section hide" valign="top">
                            <h3 class="title">List of Components</h3>
                                <div class="wizardSectionVerify">
                                    <div id="cmpnt_options" class="hide">
                                    </div>
                                </div>
                            <div class="btnTray">
                                <input type="button" id="proceed" name="proceed" value="Proceed">
                                <input type="button" id="cancelFlashing" name="cancelFlashing" value="Cancel">
                            </div>
                        </div>

                        <div id="_taskCheckList" style="padding:10px 5px;display:block;">
                            <strong>WARNING:</strong>Please note that after entering the update 
                            mode, the widgets, other web pages and services will not work. All the 
                            open widgets will be automatically closed. If the upgradation is 
                            cancelled in the middle of the wizard, the device will be reset.<br><br>

                            <table cellspacing="0" cellpadding="0" border="0" width="97%">
                            <tr><td id="_wizard" class="hide" width="500" valign="top">
                                <ul class="wizard">
                                <li id="_clientRequests"><img src="../www/res/prg_success.png"/> 
                                    Closing all active client requests.</li>
                                    <li id="_parsingImage" class="hide"> 
                                Browse and Parse HPM firmware image. <span id="_spnUploadStatus"></span>
                                </li>
                                <li id="_prepareDevice"> 
                                    Preparing device for firmware upgrade.</li>
                                <li id="_uploadImage"> 
                                    Uploading firmware image. <span id="_spnUploadStatus"></span>
                                </li>   
                                <ul id="_ulUploadHPM" class="hide">
                                <li id="_uploadBIOSImage" class="hide"> 
                                BIOS <span id="_spnBIOSUploadPercentage"></span>
                                </li>
                                <li id="_uploadBOOTAPPImage" class="hide"> 
                                BOOT and APP <span id="_spnBOOTAPPUploadPercentage"></span>
                                </li>
                                <li id="_uploadBOOTImage" class="hide"> 
                                BOOT <span id="_spnBOOTUploadPercentage"></span>
                                </li>
                                <li id="_uploadAPPImage" class="hide"> 
                                APP <span id="_spnAPPUploadPercentage"></span>
                                </li>
                                </ul>
                                <li id="_verifyImage"> 
                                    Verifying firmware image.
                                    </li>
                                    <li id="_flashImage"> 
                                    Flashing firmware image. <span id="_percentageFlashed"></span>
                                    </li>
                                    <ul id="_ulFlashHPM" class="hide">
                                    <li id="_flashBIOSImage" class="hide"> 
                                    BIOS <span id="_spnFlashBIOSPercentage"></span>
                                    </li>
                                    <li id="_flashBOOTAPPImage" class="hide"> 
                                        BOOT and APP<span id="_spnFlashBOOTAPPPercentage"></span>
                                    </li>
                                    <li id="_flashBOOTImage" class="hide"> 
                                        BOOT
                                    </li>
                                    <li id="_flashAPPImage" class="hide"> 
                                    APP 
                                    </li>
                                    </ul>
                                <li id="_resetDevice"> 
                                    Resetting Device.</li>
                                </ul>
                            </td>
                            <td id="_section" class="section" valign="top"></td></tr>
                            </table>
                            <iframe name="hiddenFrame" class="hide"></iframe>
                        </div>

                        <div class="progress">
                          <div class="progress-bar progress-bar-striped" id="upload_progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                          </div>
                          <div class="progress-bar progress-bar-success progress-bar-striped" id="flash_progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                          </div>
                        </div>
                        <div class="progress-info"></div>
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
            <!-- /.box-body -->
        </div>
    </div>
</section>

